

PID myPID(&Input, &Output, &Setpoint,Kp,Ki,Kd, DIRECT);

void setup()
{
  pinMode(soilPin,OUTPUT);
  
 Humidity = analogRead(soilPin);
  Input = map (humidity,0,340,0,1000);  //0 to 340 --> 0 to 1000
  Setpoint = 340;                                     // desired pressure in mbar

  myPID.SetSampleTime(200);               // Initialise sample rate in ms (200ms default)
  myPID.SetOutputLimits(0, 255);         // Initialise Output range - 0 to 255 suitable for AnalogWrite
  myPID.SetMode(AUTOMATIC);            // Turn the PID on
}

void loop()
{
  humidity = analogRead(soilPin);  
  Input = map (humidity,0,340,0,1000);  
  myPID.Compute();                        // Compute output using PID terms
  analogWrite(soilPin, Output);         
}
